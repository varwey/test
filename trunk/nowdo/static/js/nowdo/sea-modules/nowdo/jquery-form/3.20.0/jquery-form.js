define("nowdo/jquery-form/3.20.0/jquery-form",["$"],function(a){var b=a("$");!function(a){"use strict";function c(b){var c=b.data;b.isDefaultPrevented()||(b.preventDefault(),a(this).ajaxSubmit(c))}function d(b){var c=b.target,d=a(c);if(!d.is("[type=submit],[type=image]")){var e=d.closest("[type=submit]");if(0===e.length)return;c=e[0]}var f=this;if(f.clk=c,"image"==c.type)if(void 0!==b.offsetX)f.clk_x=b.offsetX,f.clk_y=b.offsetY;else if("function"==typeof a.fn.offset){var g=d.offset();f.clk_x=b.pageX-g.left,f.clk_y=b.pageY-g.top}else f.clk_x=b.pageX-c.offsetLeft,f.clk_y=b.pageY-c.offsetTop;setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)}function e(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}var f={};f.fileapi=void 0!==a("<input type='file'/>").get(0).files,f.formdata=void 0!==window.FormData,a.fn.ajaxSubmit=function(c){function d(b){var c,d,e=a.param(b).split("&"),f=e.length,g={};for(c=0;f>c;c++)d=e[c].split("="),g[decodeURIComponent(d[0])]=decodeURIComponent(d[1]);return g}function g(e){for(var f=new FormData,g=0;g<e.length;g++)f.append(e[g].name,e[g].value);if(c.extraData){var h=d(c.extraData);for(var j in h)h.hasOwnProperty(j)&&f.append(j,h[j])}c.data=null;var k=a.extend(!0,{},a.ajaxSettings,c,{contentType:!1,processData:!1,cache:!1,type:i||"POST"});c.uploadProgress&&(k.xhr=function(){var a=b.ajaxSettings.xhr();return a.upload&&(a.upload.onprogress=function(a){var b=0,d=a.loaded||a.position,e=a.total;a.lengthComputable&&(b=Math.ceil(d/e*100)),c.uploadProgress(a,d,e,b)}),a}),k.data=null;var l=k.beforeSend;return k.beforeSend=function(a,b){b.data=f,l&&l.call(this,a,b)},a.ajax(k)}function h(b){function d(a){var b=a.contentWindow?a.contentWindow.document:a.contentDocument?a.contentDocument:a.document;return b}function f(){function b(){try{var a=d(q).readyState;e("state = "+a),a&&"uninitialized"==a.toLowerCase()&&setTimeout(b,50)}catch(c){e("Server abort: ",c," (",c.name,")"),g(A),v&&clearTimeout(v),v=void 0}}var c=l.attr("target"),f=l.attr("action");w.setAttribute("target",n),i||w.setAttribute("method","POST"),f!=k.url&&w.setAttribute("action",k.url),k.skipEncodingOverride||i&&!/post/i.test(i)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),k.timeout&&(v=setTimeout(function(){u=!0,g(z)},k.timeout));var h=[];try{if(k.extraData)for(var j in k.extraData)k.extraData.hasOwnProperty(j)&&(a.isPlainObject(k.extraData[j])&&k.extraData[j].hasOwnProperty("name")&&k.extraData[j].hasOwnProperty("value")?h.push(a('<input type="hidden" name="'+k.extraData[j].name+'">').attr("value",k.extraData[j].value).appendTo(w)[0]):h.push(a('<input type="hidden" name="'+j+'">').attr("value",k.extraData[j]).appendTo(w)[0]));k.iframeTarget||(o.appendTo("body"),q.attachEvent?q.attachEvent("onload",g):q.addEventListener("load",g,!1)),setTimeout(b,15),w.submit()}finally{w.setAttribute("action",f),c?w.setAttribute("target",c):l.removeAttr("target"),a(h).remove()}}function g(b){if(!r.aborted&&!F){try{E=d(q)}catch(c){e("cannot access response document: ",c),b=A}if(b===z&&r)return r.abort("timeout"),y.reject(r,"timeout"),void 0;if(b==A&&r)return r.abort("server abort"),y.reject(r,"error","server abort"),void 0;if(E&&E.location.href!=k.iframeSrc||u){q.detachEvent?q.detachEvent("onload",g):q.removeEventListener("load",g,!1);var f,h="success";try{if(u)throw"timeout";var i="xml"==k.dataType||E.XMLDocument||a.isXMLDoc(E);if(e("isXml="+i),!i&&window.opera&&(null===E.body||!E.body.innerHTML)&&--G)return e("requeing onLoad callback, DOM not available"),setTimeout(g,250),void 0;var j=E.body?E.body:E.documentElement;r.responseText=j?j.innerHTML:null,r.responseXML=E.XMLDocument?E.XMLDocument:E,i&&(k.dataType="xml"),r.getResponseHeader=function(a){var b={"content-type":k.dataType};return b[a]},j&&(r.status=Number(j.getAttribute("status"))||r.status,r.statusText=j.getAttribute("statusText")||r.statusText);var l=(k.dataType||"").toLowerCase(),n=/(json|script|text)/.test(l);if(n||k.textarea){var p=E.getElementsByTagName("textarea")[0];if(p)r.responseText=p.value,r.status=Number(p.getAttribute("status"))||r.status,r.statusText=p.getAttribute("statusText")||r.statusText;else if(n){var s=E.getElementsByTagName("pre")[0],t=E.getElementsByTagName("body")[0];s?r.responseText=s.textContent?s.textContent:s.innerText:t&&(r.responseText=t.textContent?t.textContent:t.innerText)}}else"xml"==l&&!r.responseXML&&r.responseText&&(r.responseXML=H(r.responseText));try{D=J(r,l,k)}catch(b){h="parsererror",r.error=f=b||h}}catch(b){e("error caught: ",b),h="error",r.error=f=b||h}r.aborted&&(e("upload aborted"),h=null),r.status&&(h=r.status>=200&&r.status<300||304===r.status?"success":"error"),"success"===h?(k.success&&k.success.call(k.context,D,"success",r),y.resolve(r.responseText,"success",r),m&&a.event.trigger("ajaxSuccess",[r,k])):h&&(void 0===f&&(f=r.statusText),k.error&&k.error.call(k.context,r,h,f),y.reject(r,"error",f),m&&a.event.trigger("ajaxError",[r,k,f])),m&&a.event.trigger("ajaxComplete",[r,k]),m&&!--a.active&&a.event.trigger("ajaxStop"),k.complete&&k.complete.call(k.context,r,h),F=!0,k.timeout&&clearTimeout(v),setTimeout(function(){k.iframeTarget||o.remove(),r.responseXML=null},100)}}}var h,j,k,m,n,o,q,r,s,t,u,v,w=l[0],x=!!a.fn.prop,y=a.Deferred();if(a("[name=submit],[id=submit]",w).length)return alert('Error: Form elements must not have name or id of "submit".'),y.reject(),y;if(b)for(j=0;j<p.length;j++)h=a(p[j]),x?h.prop("disabled",!1):h.removeAttr("disabled");if(k=a.extend(!0,{},a.ajaxSettings,c),k.context=k.context||k,n="jqFormIO"+(new Date).getTime(),k.iframeTarget?(o=a(k.iframeTarget),t=o.attr("name"),t?n=t:o.attr("name",n)):(o=a('<iframe name="'+n+'" src="'+k.iframeSrc+'" />'),o.css({position:"absolute",top:"-1000px",left:"-1000px"})),q=o[0],r={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(b){var c="timeout"===b?"timeout":"aborted";if(e("aborting upload... "+c),this.aborted=1,q.contentWindow.document.execCommand)try{q.contentWindow.document.execCommand("Stop")}catch(d){}o.attr("src",k.iframeSrc),r.error=c,k.error&&k.error.call(k.context,r,c,b),m&&a.event.trigger("ajaxError",[r,k,c]),k.complete&&k.complete.call(k.context,r,c)}},m=k.global,m&&0===a.active++&&a.event.trigger("ajaxStart"),m&&a.event.trigger("ajaxSend",[r,k]),k.beforeSend&&k.beforeSend.call(k.context,r,k)===!1)return k.global&&a.active--,y.reject(),y;if(r.aborted)return y.reject(),y;s=w.clk,s&&(t=s.name,t&&!s.disabled&&(k.extraData=k.extraData||{},k.extraData[t]=s.value,"image"==s.type&&(k.extraData[t+".x"]=w.clk_x,k.extraData[t+".y"]=w.clk_y)));var z=1,A=2,B=a("meta[name=csrf-token]").attr("content"),C=a("meta[name=csrf-param]").attr("content");C&&B&&(k.extraData=k.extraData||{},k.extraData[C]=B),k.forceSync?f():setTimeout(f,10);var D,E,F,G=50,H=a.parseXML||function(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml"),b&&b.documentElement&&"parsererror"!=b.documentElement.nodeName?b:null},I=a.parseJSON||function(a){return window.eval("("+a+")")},J=function(b,c,d){var e=b.getResponseHeader("content-type")||"",f="xml"===c||!c&&e.indexOf("xml")>=0,g=f?b.responseXML:b.responseText;return f&&"parsererror"===g.documentElement.nodeName&&a.error&&a.error("parsererror"),d&&d.dataFilter&&(g=d.dataFilter(g,c)),"string"==typeof g&&("json"===c||!c&&e.indexOf("json")>=0?g=I(g):("script"===c||!c&&e.indexOf("javascript")>=0)&&a.globalEval(g)),g};return y}if(!this.length)return e("ajaxSubmit: skipping submit process - no element selected"),this;var i,j,k,l=this;"function"==typeof c&&(c={success:c}),i=this.attr("method"),j=this.attr("action"),k="string"==typeof j?a.trim(j):"",k=k||window.location.href||"",k&&(k=(k.match(/^([^#]+)/)||[])[1]),c=a.extend(!0,{url:k,success:a.ajaxSettings.success,type:i||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},c);var m={};if(this.trigger("form-pre-serialize",[this,c,m]),m.veto)return e("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(c.beforeSerialize&&c.beforeSerialize(this,c)===!1)return e("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var n=c.traditional;void 0===n&&(n=a.ajaxSettings.traditional);var o,p=[],q=this.formToArray(c.semantic,p);if(c.data&&(c.extraData=c.data,o=a.param(c.data,n)),c.beforeSubmit&&c.beforeSubmit(q,this,c)===!1)return e("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[q,this,c,m]),m.veto)return e("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var r=a.param(q,n);o&&(r=r?r+"&"+o:o),"GET"==c.type.toUpperCase()?(c.url+=(c.url.indexOf("?")>=0?"&":"?")+r,c.data=null):c.data=r;var s=[];if(c.resetForm&&s.push(function(){l.resetForm()}),c.clearForm&&s.push(function(){l.clearForm(c.includeHidden)}),!c.dataType&&c.target){var t=c.success||function(){};s.push(function(b){var d=c.replaceTarget?"replaceWith":"html";a(c.target)[d](b).each(t,arguments)})}else c.success&&s.push(c.success);c.success=function(a,b,d){for(var e=c.context||this,f=0,g=s.length;g>f;f++)s[f].apply(e,[a,b,d||l,l])};var u=a('input[type=file]:enabled[value!=""]',this),v=u.length>0,w="multipart/form-data",x=l.attr("enctype")==w||l.attr("encoding")==w,y=f.fileapi&&f.formdata;e("fileAPI :"+y);var z,A=(v||x)&&!y;c.iframe!==!1&&(c.iframe||A)?c.closeKeepAlive?a.get(c.closeKeepAlive,function(){z=h(q)}):z=h(q):z=(v||x)&&y?g(q):a.ajax(c),l.removeData("jqxhr").data("jqxhr",z);for(var B=0;B<p.length;B++)p[B]=null;return this.trigger("form-submit-notify",[this,c]),this},a.fn.ajaxForm=function(b){if(b=b||{},b.delegation=b.delegation&&a.isFunction(a.fn.on),!b.delegation&&0===this.length){var f={s:this.selector,c:this.context};return!a.isReady&&f.s?(e("DOM not ready, queuing ajaxForm"),a(function(){a(f.s,f.c).ajaxForm(b)}),this):(e("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)")),this)}return b.delegation?(a(document).off("submit.form-plugin",this.selector,c).off("click.form-plugin",this.selector,d).on("submit.form-plugin",this.selector,b,c).on("click.form-plugin",this.selector,b,d),this):this.ajaxFormUnbind().bind("submit.form-plugin",b,c).bind("click.form-plugin",b,d)},a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},a.fn.formToArray=function(b,c){var d=[];if(0===this.length)return d;var e=this[0],g=b?e.getElementsByTagName("*"):e.elements;if(!g)return d;var h,i,j,k,l,m,n;for(h=0,m=g.length;m>h;h++)if(l=g[h],j=l.name)if(b&&e.clk&&"image"==l.type)l.disabled||e.clk!=l||(d.push({name:j,value:a(l).val(),type:l.type}),d.push({name:j+".x",value:e.clk_x},{name:j+".y",value:e.clk_y}));else if(k=a.fieldValue(l,!0),k&&k.constructor==Array)for(c&&c.push(l),i=0,n=k.length;n>i;i++)d.push({name:j,value:k[i]});else if(f.fileapi&&"file"==l.type&&!l.disabled){c&&c.push(l);var o=l.files;if(o.length)for(i=0;i<o.length;i++)d.push({name:j,value:o[i],type:l.type});else d.push({name:j,value:"",type:l.type})}else null!==k&&"undefined"!=typeof k&&(c&&c.push(l),d.push({name:j,value:k,type:l.type,required:l.required}));if(!b&&e.clk){var p=a(e.clk),q=p[0];j=q.name,j&&!q.disabled&&"image"==q.type&&(d.push({name:j,value:p.val()}),d.push({name:j+".x",value:e.clk_x},{name:j+".y",value:e.clk_y}))}return d},a.fn.formSerialize=function(b){return a.param(this.formToArray(b))},a.fn.fieldSerialize=function(b){var c=[];return this.each(function(){var d=this.name;if(d){var e=a.fieldValue(this,b);if(e&&e.constructor==Array)for(var f=0,g=e.length;g>f;f++)c.push({name:d,value:e[f]});else null!==e&&"undefined"!=typeof e&&c.push({name:this.name,value:e})}}),a.param(c)},a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;e>d;d++){var f=this[d],g=a.fieldValue(f,b);null===g||"undefined"==typeof g||g.constructor==Array&&!g.length||(g.constructor==Array?a.merge(c,g):c.push(g))}return c},a.fieldValue=function(b,c){var d=b.name,e=b.type,f=b.tagName.toLowerCase();if(void 0===c&&(c=!0),c&&(!d||b.disabled||"reset"==e||"button"==e||("checkbox"==e||"radio"==e)&&!b.checked||("submit"==e||"image"==e)&&b.form&&b.form.clk!=b||"select"==f&&-1==b.selectedIndex))return null;if("select"==f){var g=b.selectedIndex;if(0>g)return null;for(var h=[],i=b.options,j="select-one"==e,k=j?g+1:i.length,l=j?g:0;k>l;l++){var m=i[l];if(m.selected){var n=m.value;if(n||(n=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),j)return n;h.push(n)}}return h}return a(b).val()},a.fn.clearForm=function(b){return this.each(function(){a("input,select,textarea",this).clearFields(b)})},a.fn.clearFields=a.fn.clearInputs=function(b){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var d=this.type,e=this.tagName.toLowerCase();c.test(d)||"textarea"==e?this.value="":"checkbox"==d||"radio"==d?this.checked=!1:"select"==e?this.selectedIndex=-1:b&&(b===!0&&/hidden/.test(d)||"string"==typeof b&&a(this).is(b))&&(this.value="")})},a.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},a.fn.enable=function(a){return void 0===a&&(a=!0),this.each(function(){this.disabled=!a})},a.fn.selected=function(b){return void 0===b&&(b=!0),this.each(function(){var c=this.type;if("checkbox"==c||"radio"==c)this.checked=b;else if("option"==this.tagName.toLowerCase()){var d=a(this).parent("select");b&&d[0]&&"select-one"==d[0].type&&d.find("option").selected(!1),this.selected=b}})},a.fn.ajaxSubmit.debug=!1}(b)});
