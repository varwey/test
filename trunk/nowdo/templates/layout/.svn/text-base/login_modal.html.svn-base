<!-- Modal -->
<div class="modal fade" id="login-modal" tabindex="-1">
    <div class="modal-dialog modal-login">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title" id="myModalLabel">用户登录</h4>
            </div>
            <div class="modal-body">
                <form role="form" id="login-modal-form" class="form-signin" action="{{ url_for('account.login', next=next) }}" method="post" role="form">
                    {{ login_form.csrf_token }}
                    <div class="form-group {% if login_form.errors.email %} has-error has-feedback {% endif %}">
                        <a class="pull-right change-to-register" href="javascript: void(0);"
                           data-from="#login-modal-form" data-to="#register-modal-form">注册新账号</a>
                        {% if login_form.errors.email %}
                            <label class="control-label" for="email">{{ login_form.errors.email[0] }}</label>
                        {% endif %}
                        {#                                <label class="control-label" for="email">{{ form.email.description }}</label>#}
                        {{ login_form.email(class="form-control input-lg", placeholder='账号/邮箱') }}
                        {% if login_form.errors.email %}
                            <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                        {% endif %}
                    </div>
                    <div class="form-group {% if login_form.errors.password %} has-error has-feedback {% endif %}">
                        {% if login_form.errors.password %}
                            <label class="control-label" for="email">{{ login_form.errors.password[0] }}</label>
                        {% endif %}
                        {#                                <label class="control-label" for="password">{{ form.password.description }}</label>#}
                        {{ login_form.password(class="form-control input-lg", placeholder="登录密码") }}
                        {% if login_form.errors.password %}
                            <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        <button class="btn btn-success btn-block btn-lg" type="submit">{{ _('登 录') }}</button>
                    </div>
                    <div class="form-group">
                        <input type="checkbox" id="remember"/>
                        <label class="control-label" for="remember">{{ _("下次自动登录") }}</label>
                        <a class="pull-right" href="{{  url_for('account.forget_password') }}">{{ _("密码忘记了") }}</a>
                    </div>
                </form>
                <form role="form" id="register-modal-form" action="{{ url_for('account.register', next=next) }}" method="post" role="form">
                    {{ register_form.csrf_token }}
                    <div class="form-group {% if register_form.errors.email %} has-error has-feedback {% endif %}">
                        <a class="pull-right change-to-login" href="javascript: void(0);"
                           data-from="#register-modal-form" data-to="#login-modal-form">立即登录</a>
                        {% if register_form.errors.email %}
                            <label class="control-label" for="email">{{ register_form.errors.email[0] }}</label>
                        {% else %}
                            {#                    <label class="control-label" for="email">{{ form.email.label }}</label>#}
                        {% endif %}
                        {{ register_form.email(class="form-control input-lg", placeholder="邮箱") }}
                        {% if register_form.errors.email %}
                            <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                        {% endif %}
                    </div>
                    <div class="form-group {% if register_form.errors.password %} has-error has-feedback {% endif %}">
                        {% if register_form.errors.password %}
                            <label class="control-label" for="email">{{ register_form.errors.password[0] }}</label>
                        {% else %}
                            {#                    <label class="control-label" for="email">{{ form.password.label }}</label>#}
                        {% endif %}
                        {{ register_form.password(class="form-control input-lg", placeholder="账号密码") }}
                        {% if register_form.errors.password %}
                            <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                        {% endif %}
                    </div>
                    <div class="form-group" {% if register_form.errors.nickname %} has-error has-feedback {% endif %}>
                        {% if register_form.errors.nickname %}
                            <label class="control-label" for="nickname">{{ register_form.errors.nickname[0] }}</label>
                        {% else %}
                            {#                    <label class="control-label" for="nickname">{{ form.nickname.label }}</label>#}
                        {% endif %}
                        {{ register_form.nickname(class="form-control input-lg", placeholder="昵称") }}
                        {#                    <div class="suggestion">#}
                        {#                        <span class="tips text-muted">{{ _("第一印象很重要，起个响亮的昵称吧") }}</span>#}
                        {#                    </div>#}
                        {% if register_form.errors.nickname %}
                            <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        <button class="btn btn-success btn-block btn-lg" type="submit">{{ _('注册') }}</button>
                    </div>
                    <div class="form-group">
                        <input type="checkbox" id="agreement"/>
                        <label class="control-label" for="agreement">{{ _("我已经认真阅读并同意脑洞的《") }}<a class="" href="{{ url_for('frontend.index') }}" target="_blank">{{ _("使用协议") }}</a>{{ _("》。") }}
                        </label>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>